---
import AuthLayout from "../../layouts/AuthLayout.astro";
import LoginForm from "../../components/auth/LoginForm";

// Wyłączenie prerenderowania
export const prerender = false;

// Sprawdzenie, czy użytkownik jest już zalogowany
const { user } = Astro.locals;
if (user) {
  return Astro.redirect('/dashboard');
}
---

<AuthLayout title="Logowanie | 10x Cards">
  <Fragment slot="title">Zaloguj się</Fragment>
  
  <LoginForm client:load />
  
  <p slot="footer">
    Nie masz jeszcze konta?
    <a href="/auth/register" class="text-blue-300 hover:text-blue-200 font-medium ml-1">
      Zarejestruj się
    </a>
  </p>
</AuthLayout> 